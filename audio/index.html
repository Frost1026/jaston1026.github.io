<!DOCTYPE html>
<html>
  <head>
    <title>Noisy(Please Lower Your Volume)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
    <link rel="stylesheet" type="text/css" href="/style.css"></link>
    <link rel="icon" type="image/x-icon" href="/images/titlelogo.png"></link>
  </head>
  <body >
    <div id="pad">
      <div id="label">Click & Drag</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/13.3.11/Tone.min.js"></script>
    <script>
    var synth = new Tone.Synth().toMaster();
    var dragging;

    var pad = document.getElementById("pad");
    var label = document.getElementById("label");

    pad.addEventListener("pointerdown", down);
    pad.addEventListener("pointerup", up);
    pad.addEventListener("pointermove", move);

    function down(event) {
      dragging = true;
    }

    function up(event) {
      dragging = false;
      synth.triggerRelease();
      label.innerHTML = "CLICK & DRAG";
      pad.style.backgroundColor = 'black';
    }

    function move(event) {
      if (dragging) {
          var x = event.pageX;
          var xDf = event.offsetX;
          var yDf = event.offsetY;
          synth.setNote(x);
          label.innerHTML = Math.round(x) + "Hz";
          pad.style.backgroundColor =  'rgb(‘+x+’,’+y+’,100)';
      }
    }
    </script>
  </body>
</html>
